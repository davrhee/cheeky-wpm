:root{
  /* Colors / tokens */
  --bg-gradient-start: #071126;
  --bg-gradient-end: #031019;
  --card-bg: #000000;
  --muted: #9aa4b2;
  --para-blue: #9ad1ff;
  --gold: #ffd166;
  --danger: #ff6b6b;
  --glass: rgba(255,255,255,0.03);
  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --max-width: 920px;
}

/* Reset / base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font-sans);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  background: linear-gradient(180deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
  color:#e6eef6;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:32px;
}

/* App container */
.app{ width:100%; max-width:var(--max-width); padding:0 8px }

/* Header */
.header{ text-align:left; margin-bottom:12px }
.title{ margin:0; font-weight:700; letter-spacing:0.2px; font-size:20px }
.subtitle{ margin:6px 0 0; color:var(--muted); font-size:13px }

/* Card (black window) */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px;
  padding:22px;
  margin-top:14px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
  border:1px solid rgba(255,255,255,0.03);
}

/* Controls */
.controls{ display:flex; gap:12px; align-items:center; margin-bottom:14px }
.btn{
  background: linear-gradient(90deg,var(--gold),#ffd98a);
  color:#081010;
  border:0;
  padding:8px 12px;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
  font-size:14px;
}
.btn.ghost{
  background:transparent;
  color:var(--muted);
  border:1px solid rgba(255,255,255,0.03);
}

/* Stats */
.stats{ display:flex; gap:18px; margin-bottom:14px }
.stat{ display:flex; flex-direction:column; align-items:flex-start }
.stat-value{ font-size:20px; font-weight:700 }
.stat-label{ color:var(--muted); font-size:12px }

/* Typing area wrapper */
.typing-area{ position:relative; min-height:140px; margin-bottom:6px; border-radius:12px; overflow:hidden }

/* Paragraph window (underneath) */
#paragraphWindow, .paragraph-window{
  position:relative;
  min-height:140px;
  padding:20px;
  border-radius:10px;
  line-height:2.2;
  font-size:20px;
  font-weight:500;
  color: var(--para-blue);
  background: rgba(255,255,255,0.01);
  border: 1px solid rgba(255,255,255,0.02);
  z-index:1;
  pointer-events: none; /* let input capture clicks */
  user-select: none;
  -webkit-user-select: none;
  white-space: pre-wrap;
  word-break: break-word;
}

/* Placeholder shown before Start is pressed */
#paragraphWindow .placeholder {
  color: var(--muted);
  font-style: italic;
  opacity: 0.95;
  padding: 6px 0;
  user-select: none;
  -webkit-user-select: none;
  display: block;
}

/* Strong, explicit rules to avoid being overridden */
#paragraphWindow .char{
  display:inline-block !important;
  padding:0 1px !important;
  color: var(--para-blue) !important;
  opacity:1 !important;
  visibility:visible !important;
  transition: color 140ms ease, background 120ms ease !important;
}

/* States */
#paragraphWindow .char.current{
  text-decoration: underline 2px rgba(255,255,255,0.03) !important;
  opacity:0.98 !important;
}
#paragraphWindow .char.correct{
  color: var(--gold) !important;
}
#paragraphWindow .char.incorrect{
  color: var(--danger) !important;
  text-decoration: line-through rgba(255,107,107,0.16) !important;
}

/* Overlay input (transparent characters, caret visible) */
.overlay-input{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  padding:20px; /* match paragraph padding for alignment */
  margin:0;
  border-radius:10px;
  box-sizing:border-box;
  background:transparent !important;
  border:none !important;
  outline:none !important;
  color:transparent !important;               /* hide typed characters */
  -webkit-text-fill-color: transparent !important;
  caret-color: var(--para-blue) !important;   /* CARET VISIBLE */
  font-size:20px !important;
  line-height:2.2 !important;
  font-family: inherit !important;
  z-index:10 !important;                       /* must sit above paragraph */
  pointer-events:auto !important;
}

/* If you find the caret vertically off by a few pixels, try adjusting padding:20px -> padding:18px or 22px */

/* Selection on the invisible input should not highlight text */
.overlay-input::selection{ background: transparent !important }

/* Visible fallback input styling (not used by default) */
.type-input{
  width:100%;
  padding:14px 16px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.03);
  background:#050505;
  color:var(--para-blue);
  font-size:18px;
  outline:none;
  box-shadow: 0 4px 14px rgba(0,0,0,0.6) inset;
}
.type-input::placeholder{ color: rgba(154,209,255,0.25); }

/* Results area */
.results-area{ display:none; opacity:0; transform: translateY(6px) scale(0.995); transition: opacity 220ms ease, transform 220ms ease; margin-top:6px }
.results-area.show{ display:block; opacity:1; transform: translateY(0) scale(1) }
.results-window{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px;
  padding:18px;
  text-align:center;
  border:1px solid rgba(255,255,255,0.03);
}

/* Results details */
.result-top{ display:flex; align-items:center; gap:14px; justify-content:center }
.result-emoji{ font-size:44px }
.result-wpm{ font-size:28px; font-weight:800 }
.result-label{ color:var(--muted); font-size:14px }
.result-stats{ display:flex; gap:24px; justify-content:center; margin-top:12px; margin-bottom:12px }
.result-stat{ font-size:14px; color:var(--muted) }
.result-desc{ color:var(--muted); margin-bottom:12px }
.result-actions{ display:flex; gap:8px; justify-content:center }

/* Helpers */
.hidden{ display:none !important }

/* Responsive */
@media (max-width:600px){
  #paragraphWindow{ font-size:18px; line-height:2; padding:14px }
  .overlay-input{ font-size:18px; line-height:2; padding:14px }
  .controls{ flex-wrap:wrap; gap:8px }
  .stats{ gap:10px }
}